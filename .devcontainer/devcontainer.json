{
  "name": "Mininet Network Lab (single)",
  "build": {
    "context": "..",
    "dockerfile": "./Dockerfile",
    "options": [
      "--build-arg", "BUILDKIT_INLINE_CACHE=0"
    ]
  },
  "features": {},
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
      }
    }
  },
  "runArgs": [
    "--init",
    "--network=host",
    "--privileged",
    "--cap-add=NET_ADMIN",
    "--cap-add=SYS_ADMIN",
    "--add-host=mininet-dev:127.0.1.1",
    "--add-host=host.docker.internal:host-gateway",
    "--hostname=mininet-dev"
  ],
  "workspaceFolder": "/workspaces/learn_sdn",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspaces/learn_sdn,type=bind,consistency=cached",
  "mounts": [
    "source=/lib/modules,target=/lib/modules,type=bind,consistency=cached"
  ],
  "containerEnv": {
    "MININET_DOCKER": "true",
    "PYTHONUNBUFFERED": "1",
    "DEBIAN_FRONTEND": "noninteractive"
  },
  "postCreateCommand": "echo '127.0.1.1 mininet-dev' | tee -a /etc/hosts && echo '127.0.1.1 mininet-dev' | tee -a /etc/hosts && echo 'DevContainer created'",
  "postStartCommand": "/usr/local/bin/start-ovs.sh || service openvswitch-switch start || true",
  "shutdownAction": "stopContainer",
  "remoteUser": "root",
  "overrideCommand": false
}
